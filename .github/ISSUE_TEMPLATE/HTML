<section id="contact" class="reveal-left delay-3">
  <h2>اتصل بنا</h2>
  <form id="contactForm" class="reveal delay-4" novalidate>
    <label for="name">الاسم:</label>
    <input type="text" id="name" name="name" required />
    <small class="error" id="nameError"></small>

    <label for="email">البريد الإلكتروني:</label>
    <input type="email" id="email" name="email" required />
    <small class="error" id="emailError"></small>

    <label for="message">الرسالة:</label>
    <textarea id="message" name="message" required></textarea>
    <small class="error" id="messageError"></small>

    <button type="submit">إرسال</button>
  </form>
  <p id="formMessage" style="color:green; display:none; margin-top:10px;">تم إرسال الرسالة بنجاح! شكراً لتواصلك معنا.</p>
</section>

<style>
  .error {
    color: #d32f2f;
    font-size: 14px;
    display: block;
    margin-bottom: 10px;
    min-height: 18px;
  }
</style>

<script>
  const form = document.getElementById('contactForm');
  const nameInput = document.getElementById('name');
  const emailInput = document.getElementById('email');
  const messageInput = document.getElementById('message');
  const formMessage = document.getElementById('formMessage');

  const nameError = document.getElementById('nameError');
  const emailError = document.getElementById('emailError');
  const messageError = document.getElementById('messageError');

  function validateEmail(email) {
    // تحقق بسيط من صيغة البريد
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email.toLowerCase());
  }

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    let valid = true;

    // إعادة ضبط الأخطاء
    nameError.textContent = '';
    emailError.textContent = '';
    messageError.textContent = '';
    formMessage.style.display = 'none';

    if (nameInput.value.trim() === '') {
      nameError.textContent = 'يرجى إدخال الاسم.';
      valid = false;
    }
    if (emailInput.value.trim() === '') {
      emailError.textContent = 'يرجى إدخال البريد الإلكتروني.';
      valid = false;
    } else if (!validateEmail(emailInput.value)) {
      emailError.textContent = 'صيغة البريد الإلكتروني غير صحيحة.';
      valid = false;
    }
    if (messageInput.value.trim() === '') {
      messageError.textContent = 'يرجى كتابة رسالة.';
      valid = false;
    }

    if (valid) {
      // محاكاة إرسال الرسالة (هنا يمكنك ربطه بخادم فعلي لاحقاً)
      form.reset();
      formMessage.style.display = 'block';
    }
  });
</script>
